<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xuanzhe.dao.UserMapper">
  <!-- Add User -->
  <insert id="addUser" parameterType="User">
    INSERT INTO user_table (login, pwd, pseudo, niveau, address, dateDeNaissance, profil)
    VALUES (#{login}, #{pwd}, #{pseudo}, #{niveau}, #{address}, #{dateDeNaissance}, #{profil})
  </insert>

  <!-- Delete User -->
  <delete id="deleteUser" parameterType="String">
    DELETE FROM user_table WHERE login = #{login}
  </delete>

  <!-- Update User Level -->
  <update id="updateNiveauUser" parameterType="User">
    UPDATE user_table SET niveau = #{niveau} WHERE login = #{login}
  </update>

  <!-- Query All Users -->
  <select id="queryAllUser" resultType="User">
    SELECT * FROM user_table
  </select>

  <!-- Query User By Name -->
  <select id="queryUserByName" resultType="User" parameterType="String">
    SELECT * FROM user_table WHERE pseudo = CONCAT('%', #{pseudo}, '%');
  </select>

  <!-- Query User By Id -->
  <select id="queryUserById" resultType="User" parameterType="String">
    SELECT * FROM user_table WHERE login = #{login};
  </select>


</mapper>


